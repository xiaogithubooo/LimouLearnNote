# 1.索引的意义

>   索引可以提高海量数据库的性能（不加内存，不改程序，不调 `sql`），只需要执行正确的 `create index` ，查询速度就可能提高成百上千倍。
>
>   但查询速度的提高是以插入、更新、删除的速度作为代价的，这些写操作增加了大量的 `IO`。

上述这段话还有很多是我们体会不到的，继续往下看。

我们先记住，`MySQL` 的服务器进程，所有的 `CURD` 都是在内存中进行的，索引也是这样，在内存中一定存在某种数据结构。

而优化算法的因素主要有两个：

-   组织数据的方法（例如：顺序表改写为二树树表）
-   算法的设计本身（例如：顺序查找改为二分查找）

而索引就是针对第一个方式对数据做优化，让查询速度变快，我们可以见一见什么叫索引。

1.   先建立一个 `.sql` 文件，该文件可以创建大批量的随机数：

     ```sql
     -- 构建一个8000000条记录的数据
     -- 构建的海量表数据需要有差异性，所以使用存储过程来创建， 拷贝下面代码就可以了，暂时不用理解
     -- 产生随机字符串
     delimiter $$
     create function rand_string(n INT)
     returns varchar(255)
     begin
     declare chars_str varchar(100) default
     'abcdefghijklmnopqrstuvwxyzABCDEFJHIJKLMNOPQRSTUVWXYZ';
     declare return_str varchar(255) default '';
     declare i int default 0;
     while i < n do
     set return_str =concat(return_str,substring(chars_str,floor(1+rand()*52),1));
     set i = i + 1;
     end while;
     return return_str;
     end $$
     delimiter ;
     -- 产生随机数字
     delimiter $$
     create function rand_num()
     returns int(5)
     begin
     declare i int default 0;
     set i = floor(10+rand()*500);
     return i;
     end $$
     delimiter ;
     -- 创建存储过程，向雇员表添加海量数据
     delimiter $$
     create procedure insert_emp(in start int(10),in max_num int(10))
     begin
     declare i int default 0;
     set autocommit = 0;
     repeat
     set i = i + 1;
     insert into EMP values ((start+i)
     ,rand_string(6),'SALESMAN',0001,curdate(),2000,400,rand_num());
     until i = max_num
     end repeat;
     commit;
     end $$
     delimiter ;
     -- 执行存储过程，添加8000000条记录
     call insert_emp(100001, 8000000);
     ```

2.   

