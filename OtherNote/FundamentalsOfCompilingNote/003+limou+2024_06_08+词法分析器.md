# 1.文法

## 1.1.文法定义

任何构成程序的字符串都可以看作是基于字符集上的一个字符串。一个字符串由一些 $x$ 字符构成，字符串长度为 $|str|$，判断一个字符串 $str$ 是否基于一个字符集 $\Sigma={\{x\}}$ 的依据就是 **文法**。也就是描述单词符号的构成规则，一般包含 (1)词法规则 (2)语法规则。

-   一个语言的单词符号通常包含 `标识符、常数、运算符...`（对应的词法规则描述工具，例如“正规式”）
-   一个语言的语法单位通常包含 `表达式、语句、函数、过程...`（对应的语法规则描述工具，例如“上下文无关语法”）

>   补充：我们特别规定 $\epsilon$ 表示一个不含任何字符的空字符串。

>   补充：一些关于字符串和集合的运算。
>
>   -   **字符串的长度**：所构成的字符的个数 $|str|$
>
>   -   **字符串的连接**：符号串 $x$ 和 $y$ 的连接形成新字符串 $xy$
>
>   -   **字符串幂运算**：$x^{0} = \epsilon, x^{1} = x, x^{2} = xx, x^{3} = xxx...$
>
>   -   **串集合间乘积**：若 $A、B$ 均为字符串集合，则 $AB = \{xy|x\in A, y\in B\}$
>
>   -   **串集合幂运算**：若 $A、B$ 均为字符串集合，则 $A^{0} = \{\epsilon\}, A^{1} = A, A^{2} = AA, A^{3} = AAA...$
>
>   -   **串集合的闭包**：闭包分为正则闭包和闭包，闭包本质就是利用串集合衍生更多的
>
>       (1)正则闭包，$A^{+} = A^{1} \cup A^{2} \cup A^{3}...$
>
>       (2)闭包，$A^{*} = A^{0} \cup A^{+}$，也有 $A^{+} = AA^{*}$

## 1.2.文法规则

文法是描述语言的形式规则，而 `乔姆斯基` 将文法分为四种类型：`0型、1型、2型、3型`。

-   0 型文法-无限制文法
-   1 型文法-上下文相关文法
-   2 型文法-上下文无关文法
-   3 型文法-正则文法

我们重点学习上下文无关语法，上下文无关语法通常由四元组 $G = (N,T,P,S)$ 组成：

*   $N$：非终结符集合，表示语法结构中的变量或符号
*   $T$：终结符集合，表示语法结构中的实际符号或词汇
*   $P$：生成规则集合，定义了如何用非终结符和终结符生成句子
*   $S$：开始符号，指定了生成句子的起点

而上下文无关语法对应实例的图形表示就是语法树，可以直观看出语法的构成。

>   举例：假设有如下规则
>
>   *   非终结符：$E, T, F$
>   *   终结符：$+, *, (, ), id$
>   *   开始符号：$E$
>   *   规则如下：
>       1.  $E→E+T$
>       2.  $E→T$
>       3.  $T→T∗F$
>       4.  $T→F$
>       5.  $F→(E)$
>       6.  $F→id$

