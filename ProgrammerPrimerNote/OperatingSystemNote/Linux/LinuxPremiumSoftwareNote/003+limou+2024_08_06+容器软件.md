**如果本系列文章对您有帮助，可以 [star 一下我的 limou-learn-note](https://github.com/xiaogithubooo/LimouLearnNote)，求求惹(๑＞ ＜)☆♡~**

**叠甲：以下文章主要是依靠我的实际编码学习中总结出来的经验之谈，求逻辑自洽，不能百分百保证正确，有错误、未定义、不合适的内容请尽情指出！**

[TOC]

>   概要：

>   资料：

---

# 1.Docker 的历史

容器技术的快速发展改变了现代软件开发和部署的方式，但是这种技术并不新颖，从很久开始就发展起来了。

## 1.1.监狱时期

1.   早期的贝尔实验室发明了 `chroot`，主要是为了避免在一个系统软件编译和安装完成后，需要重写配置环境的情况。因此就考虑能否创建出一个隔离环境，专门用于构建和搭建测试环境，进而得到了一个把进行文件系统隔离的早期容器技术。

     `chroot` 系统调用可以将进程和子进程的根目录更改为文件系统中的新位置（而不是系统的根目录），隔离之后该进程就无法访问外面的文件，如同一个监狱一样（`Chroot jail`），后续只需要把测试信息放在 `Jail` 中就可以完成测试了。

     ```cpp
     // 演示关于 chroot() 的使用
     #include <unistd.h>
     #include <stdio.h>
     #include <stdlib.h>
     
     int main() {
         const char *new_root = "/path/to/new/root";
     
         // 切换根目录
         if (chroot(new_root) != 0) {
             perror("chroot failed");
             return 1;
         }
     
         // 切换当前工作目录到新根目录
         if (chdir("/") != 0) {
             perror("chdir failed");
             return 1;
         }
     
         // 在新的根目录下执行命令
         printf("Now in chrooted environment\n");
     
         // 例如执行一个命令，这里使用 system 函数
         system("/bin/sh");
     
         return 0;
     }
     
     ```

2.   到了后来的 `FreeBSD Jail` 让每一个 `Jail` 成为在主机上运行的虚拟环境，有自己的文件管理、进程管理、用户管理，甚至还可以为每个虚拟环境分配一个 `ip` 地址，使得网络空间也被隔离开来，本质也是一种监狱机制。

3.   后面还退出了一种叫 `Linux VServer` 的基于内核的虚拟化技术，可以在单个 `Linux` 内核实例上创建多个独立的虚拟环境（称为 **安全上下文** 或 **虚拟服务器**）。这些虚拟环境共享相同的内核，但它们在用户空间中是隔离的，每个环境可以有自己的文件系统、网络接口和进程空间。如果您想尝试这种技术，可以安装 `VServer` 试一试，这里举一个 `Ubuntu` 的大概伪例子。

     (1)首先您需要一个支持 `VServer` 的内核以及相关的用户空间工具,这通常需要从源代码编译或从特定的包管理器安装，也就是 `sudo apt-get install linux-image-vserver vserver-debiantools`

     (2)然后创建新虚拟服务器,使用 `vserver` 工具来创建和管理虚拟服务器。创建一个新的虚拟服务器实例，并指定其根文件系统 `sudo vserver <vserver_name> build...`

     (3)使用 `sudo vserver <vserver_name> start` 启动虚拟服务器

     (4)使用 `sudo vserver <vserver_name> enter` 命令进入虚拟服务器的上下文环境

     (5)管理虚拟服务器...

4.   `Solaris Containers` 软件公测，结合系统资源控制和区域进行了隔离，增加了快照和克隆功能，但是没有太大的发展（也没有那么强需求的场景），依旧是以 `Jail` 模式为核心

## 1.2.云时期

云时代是 `Google` 率先提出的概念，进而发生了各种云厂商，现代的云已经变成了强需求，变成和水电一样的基础设施。云的存在使得个人或企业无需操心大量数据的处理带来的高资源消耗，用户只需要向云服务厂商花费较低的钱，就可以得到高回报的云资源。云的存在使得隔离技术变成核心的诉求。

设计到云的技术可太多了，资源隔离、资源控制、软件部署、实时更新、快速发布、网络问题...`Google` 推出 `Process Containers/Control Groups` 被合并到 `Linux2.6.24` 版本中，旨在限制、统计、隔离一组进程的资源使用（这里的资源包括 `CPU, 内存, 磁盘IO, 网络...`）。此时控制和隔离技术都发展起来了，顺势就发展起了 `LXC` 这个比较完整的容器管理技术，其内部使用 `Control Groups` 和 `Linux` 命名空间来实现，可以在单个 `Linux` 上运行，无需任何补丁。

而后退出的 `GAE(Goolge App Engine)` 则首次把开发平台当作一种服务来实现，采用yun 

# 2.Docker 是什么

目前最流行的容器化技术是 `Docker`，最流行的容器管理服务是 `Kubernetes(K8S)`，应用/服务可以打包为 `Docker` 镜像，通过 `K8S` 来动态分发和部署镜像。`Docker` 镜像可理解为一个刚好能运行应用/服务的最小操作系统，内部存放应用/服务的运行代码。

运行环境根据实际的需要提取设置好后，把整个“小操作系统”打包为一个镜像后，就可以分发到需要部署相关服务的机器上，直接启动 `Docker` 镜像就可以把服务运行起来，使服务的部署 和运维变得非常简单。

# 3.Docker 的下载



---

>   结语：...

**如果本系列文章对您有帮助，可以 [star 一下我的 limou-learn-note](https://github.com/xiaogithubooo/LimouLearnNote)，求求惹(๑＞ ＜)☆♡~**

