**如果本系列文章对您有帮助，可以 [star 一下我的 limou-learn-note](https://github.com/xiaogithubooo/LimouLearnNote)，求求惹~**

**叠甲：以下文章主要是依靠我的实际编码学习中总结出来的经验之谈，求逻辑自洽，不能百分百保证正确，有错误、未定义、不合适的内容请尽情指出！**

[TOC]

>   概要：主要是回答本章节内容是在做什么，为什么要这么做...

>   资料：先导需要搜集整个系列用到的所有资料，而每个章节的博文需要收集2本小节用到的所有资料...

---

# 1.vue-cli 简介

使用脚手架工具规范化 `Vue.js` 的应用 `web`，这里举一个使用 `vue-cli` 的脚手架工具，这个脚手架工具实际上可以通过 `Node.js` 中的 `npm` 来进行安装。这里展示两种版本，一种是使用命令行的版本，一种是使用 `WebStorm` 进行生成的版本。这个脚手架工具有以下多个功能：

-   创建统一目录结构
-   支持进行本地调试
-   支持热加载热调试
-   支持简单单元测试
-   支持集成打包上线

# 2.vue-cli 创建

## 2.1.命令行窗口使用 vue-cli 生成 Vue2 项目

看以下命令行即可。

```shell
# 使用 vue-cli 构建 Vue2 工程
$ npm install -g @vue/cli # 下载 vue-cli
$ npm list -g # 检查安装包列表中是否存在 vue-cli 模块, 也就是 vue/cli
$ vue create my-vue-project # 开始创建一个 vue 工程

Vue CLI v5.0.8 # 使用方向键选择 vue 版本, 这里选择 vue2
? Please pick a preset: 
  Default ([Vue 3] babel, eslint) 
> Default ([Vue 2] babel, eslint) 
  Manually select features
  
# 下面就是一大堆的创建信息...忽略即可, 或者自己简单看一看

✨  Creating project in D:\Other\vuetest\my-vue-project.
🗃  Initializing git repository...
⚙️  Installing CLI plugins. This might take a while...


added 871 packages in 24s

100 packages are looking for funding
  run `npm fund` for details
🚀  Invoking generators...
📦  Installing additional dependencies...


added 88 packages in 4s

112 packages are looking for funding
  run `npm fund` for details
⚓  Running completion hooks...

# ...创建信息

# 下面是给出提示的两个指令
$ cd my-vue-project # 打开已经创建好的项目
$ npm run serve # 运行这个可以启动一个本地服务器进行调试开发
```

## 2.2.图形化界面使用 vue-cli 生成 Vue2 项目

实际上在 `cmd` 中输入 `vue ui` 可以运行得到一个图形化界面网站。

```shell
# 启动 vue-cli 启动图形化界面网站
vue ui
🚀  Starting GUI...
🌠  Ready on http://localhost:8000
```

在浏览器中 `url` 输入 `http://localhost:8000` 就可以打开这个 `GUI` 网站（不过一般会自动打开）。

![image-20240801192922448](./assets/image-20240801192922448.png)

接下来的配置选项就和之前命令行界面中的设置差不多了。

![image-20240801203436782](./assets/image-20240801203436782.png)

![image-20240801203539669](./assets/image-20240801203539669.png)

![image-20240801204207650](./assets/image-20240801204207650.png)

![image-20240801204349836](./assets/image-20240801204349836.png)

![image-20240801204323083](./assets/image-20240801204323083.png)

![image-20240801204519480](./assets/image-20240801204519480.png)

![image-20240801203651816](./assets/image-20240801203651816.png)

下面的预设可以不保存，其实就是记录一份配置记录，下次创建新的相同项目时就可以直接使用这份预设进行快速配置。

![image-20240801204618908](./assets/image-20240801204618908.png)

然后此时的命令行窗口千万不能关闭，否则就需要重新配置了，直到 `UI` 界面出现下面这个界面。

![image-20240801203816545](./assets/image-20240801203816545.png)

然后在您喜欢的开发环境中打开项目即可。

![image-20240801205000448](./assets/image-20240801205000448.png)

## 2.3.WebStorm 使用 vue-cli 生成 Vue2 项目

![image-20240801161153412](./assets/image-20240801161153412.png)

这个就更加直观了，输入上面几个文本框就可以得到一个 `Vue` 工程了，不过这里貌似没法手动自定义配置选项，比较不灵活...

# 3.vue-cli 目录

## 3.1.概览工程目录

关于创建出来的项目目录我们需要详细解释一下。

```shell
# Vue2 工程目录
vue-project
├─ node_modules/ # 整个项目的依赖包, 由 npm 管理
├─ public/ # 存放项目的静态文件, 不会被 Webpack 处理, 可以直接在应用中使用
├─ src/ # vue 前端源代码, 项目的核心目录
│	├─ assets/ # 静态资源, 通常会通过 Webpack 进行处理
│	├─ components/ # 可重用的组件
│	├─ router/ # 路由配置, 一般包含 index.js 文件，用于配置项目的路由信息
│	├─ views/ # 视图组件, 通常由多个基础组件组合而成的页面级组件
│	├─ App.vue # 入口组件/入口页面/根组件
│	└─ main.js # 入口 JS 文件, 初始化 Vue 实例, 挂载根组件, 并设置全局配置
├─ package.json # npm 的包管理配置文件, 配置项目的版本依赖和脚本等
├─ vue.json # vue-cli 的内部配置文件, 配置代理、端口等
├─ babel.config.js # Babel 的配置文件, 用于配置 JS 编译选项
└─ ...
```

在关于 `Vue2.js` 的脚手架工具中，我将使用 `vue-cli` 第二种图形化界面的方式，并且使用 `WebStorm` 打开项目的形式，之所以这么做单纯只是因为我对 `WebStorm`  自带 `Vue2` 构建过程不太满意，省略了一些自定义的步骤，但是 `UI` 的操作方式快速又有较多的自定义选项。

>   吐槽：当然可能纯粹是我对 `WebStorm` 的设置不够熟练，以后如果探索到的相应的设置，会回到这里进行补充...

接下来我们通过一个开发场景来大概了解一下在这些目录下应该做的开发工作，首先我们先无论做什么，先在项目目录下执行指令 `run serve` 然后访问热部署的网站，此时修改 `vue2` 文件就可以实时反应到页面上。

## 3.2.理解工程文件

### 3.2.1.public/index.html

我们先来查看最原始的主页面 `HTML`，看看 `vue-cli` 对这个页面都做了些什么。

```html
<!-- index.html -->
<!DOCTYPE html> <!-- 声明文档类型为 HTML5 -->
<html lang=""> <!-- 设置页面语言 -->
<head>
    <!-- 为避免知识缺漏, 这里解释一下下面设置页面的元数据元素, 可以在 https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta 详细查看 -->
    <meta charset="utf-8"> <!-- 设置本文档支持的字符集 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> <!-- 指定 IE 浏览器使用最新渲染引擎, 这个 http-equiv 可以模拟类似 http 的响应头 -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0"> <!-- 设置视图确保能在移动设备上正确缩放和显示 -->
    <link rel="icon" href="<%= BASE_URL %>favicon.ico"> <!-- 设置页面的 favicon 网站图标, 这里的 BASE_URL 占位符后续会被 -->
    <title><%= htmlWebpackPlugin.options.title %></title>
    <!-- 这里的 htmlWebpackPlugin.options.title 也是占位符, 后续会被替换为真正的标题 -->
</head>
<body>
<noscript>
    <strong>
        <!-- 当用户禁用浏览器的 JS 解释器时就会显示下面这段文本 -->
        We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled.
        Please enable it to continue.
    </strong>
</noscript>
<div id="app"></div> <!-- 这里就挂载了 vue2 的根组件 -->
</body>
</html>

```

>   吐槽：这里的占位符我怀疑是 `Webpack` 替换的，但是我不知道哪一个是对应的配置文件，之后再来补充吧...

### 3.2.2.src/components/HelloWorld.vue

```html
<!-- HelloWorld.vue -->
<template>
  <div class="hello"> <!-- 模板部分 -->
    <h1>{{ msg }}</h1>
    <p>
      For a guide and recipes on how to configure / customize this project,<br>
      check out the
      <a href="https://cli.vuejs.org" rel="noopener" target="_blank">vue-cli documentation</a>.
    </p>
    <h3>Installed CLI Plugins</h3>
    <ul>
      <li><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" rel="noopener"
             target="_blank">babel</a></li>
      <li><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router" rel="noopener"
             target="_blank">router</a></li>
      <li><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint" rel="noopener"
             target="_blank">eslint</a></li>
    </ul>
    <h3>Essential Links</h3>
    <ul>
      <li><a href="https://vuejs.org" rel="noopener" target="_blank">Core Docs</a></li>
      <li><a href="https://forum.vuejs.org" rel="noopener" target="_blank">Forum</a></li>
      <li><a href="https://chat.vuejs.org" rel="noopener" target="_blank">Community Chat</a></li>
      <li><a href="https://twitter.com/vuejs" rel="noopener" target="_blank">Twitter</a></li>
      <li><a href="https://news.vuejs.org" rel="noopener" target="_blank">News</a></li>
    </ul>
    <h3>Ecosystem</h3>
    <ul>
      <li><a href="https://router.vuejs.org" rel="noopener" target="_blank">vue-router</a></li>
      <li><a href="https://vuex.vuejs.org" rel="noopener" target="_blank">vuex</a></li>
      <li><a href="https://github.com/vuejs/vue-devtools#vue-devtools" rel="noopener" target="_blank">vue-devtools</a>
      </li>
      <li><a href="https://vue-loader.vuejs.org" rel="noopener" target="_blank">vue-loader</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" rel="noopener" target="_blank">awesome-vue</a></li>
    </ul>
  </div>
</template>

<script>
export default { // 导出一个默认对象
  name: 'HelloWorld', // name 关键字设置了子组件的名字
  props: { // props 关键字设置组件可以接受的属性, 其实就是我们之前在 Vue.js 基础中学习的子组件内部的数据
    msg: String // 这里的 msg 就是子组件所能接受的属性, 这里指定了类型必须是 String
  }
}
// 之前的代码中我们是按照下面这种方式定义一个子组件的, 其实和上面类似
// -- 代码片段 --
// Vue.component('Child', {
// props: ['mess1', 'mess2'],
//     template: `
//             <div>
//                 <span>{{ mess1 }}</span><br>
//                 <span>{{ mess2 }}</span>
//             </div>
//         `
// })
//
// new Vue({
//   el: '#app'
// })
// -- 代码片段 --
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
h3 {
  margin: 40px 0 0;
}

ul {
  list-style-type: none;
  padding: 0;
}

li {
  display: inline-block;
  margin: 0 10px;
}

a {
  color: #42b983;
}
</style>

```

然后再来看看之前没有接触过的 `.vue` 文件 `HelloWorld.vue`，实际上 `.vue` 文件是 `Vue.js` 的单文件组件，也算是一种特殊的 `HTML` 文件，它将模板、脚本、样式封装在一个文件中，以便于多个组件的管理和重用。`.vue` 文件通常包含以下几部分内容。

-   `<template>` 部分：定义构成组件的 `HTML` 骨架模板，主要描述了组件的结构/骨架和视图/显示，同时会使用一些 `Vue2.js` 语法进行数据渲染。

    ```html
    <!-- template 部分 -->
    <template>
      <div class="hello"> <!-- 模板部分 -->
        <h1>{{ msg }}</h1>
        <p>
          For a guide and recipes on how to configure / customize this project,<br>
          check out the
          <a href="https://cli.vuejs.org" rel="noopener" target="_blank">vue-cli documentation</a>.
        </p>
        <h3>Installed CLI Plugins</h3>
        <ul>
          <li><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" rel="noopener"
                 target="_blank">babel</a></li>
          <li><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router" rel="noopener"
                 target="_blank">router</a></li>
          <li><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint" rel="noopener"
                 target="_blank">eslint</a></li>
        </ul>
        <h3>Essential Links</h3>
        <ul>
          <li><a href="https://vuejs.org" rel="noopener" target="_blank">Core Docs</a></li>
          <li><a href="https://forum.vuejs.org" rel="noopener" target="_blank">Forum</a></li>
          <li><a href="https://chat.vuejs.org" rel="noopener" target="_blank">Community Chat</a></li>
          <li><a href="https://twitter.com/vuejs" rel="noopener" target="_blank">Twitter</a></li>
          <li><a href="https://news.vuejs.org" rel="noopener" target="_blank">News</a></li>
        </ul>
        <h3>Ecosystem</h3>
        <ul>
          <li><a href="https://router.vuejs.org" rel="noopener" target="_blank">vue-router</a></li>
          <li><a href="https://vuex.vuejs.org" rel="noopener" target="_blank">vuex</a></li>
          <li><a href="https://github.com/vuejs/vue-devtools#vue-devtools" rel="noopener" target="_blank">vue-devtools</a>
          </li>
          <li><a href="https://vue-loader.vuejs.org" rel="noopener" target="_blank">vue-loader</a></li>
          <li><a href="https://github.com/vuejs/awesome-vue" rel="noopener" target="_blank">awesome-vue</a></li>
        </ul>
      </div>
    </template>
    
    ```

-   `<script>` 部分：定义组件的逻辑和数据，这里编写 `Vue2` 组件的相关 `JS` 代码，包括模型的数据定义、方法定义、钩子函数等。

    ```html
    <!-- script 部分 -->
    <script>
    export default { // 导出一个默认对象
      name: 'HelloWorld', // name 关键字设置了子组件的名字
      props: { // props 关键字设置组件可以接受的属性, 其实就是我们之前在 Vue.js 基础中学习的子组件内部的数据
        msg: String // 这里的 msg 就是子组件所能接受的属性, 这里指定了类型必须是 String
      }
    }
    // 之前的代码中我们是按照下面这种方式定义一个子组件的, 其实和上面类似
    // -- 代码片段 --
    // Vue.component('Child', {
    // props: ['mess1', 'mess2'],
    //     template: `
    //             <div>
    //                 <span>{{ mess1 }}</span><br>
    //                 <span>{{ mess2 }}</span>
    //             </div>
    //         `
    // })
    //
    // new Vue({
    //   el: '#app'
    // })
    // -- 代码片段 --
    </script>
    
    ```

-   `<style>` 部分：标签定义组件的样式，这里会编写 `CSS` 或 `SCSS` 来控制组件的外观，可以使用 `style` 标签的 `scoped` 属性来确保样式仅应用于当前组件。

    ```html
    <!-- style 部分 -->
    <style scoped>
    h3 {
      margin: 40px 0 0;
    }
    
    ul {
      list-style-type: none;
      padding: 0;
    }
    
    li {
      display: inline-block;
      margin: 0 10px;
    }
    
    a {
      color: #42b983;
    }
    </style>
    
    ```

当然，还有很多其他额外的补充部分，不过我们先不理会，您先理解到这里就行。

### 3.2.3.src/router/\*.vue

因此我们可以认为一个 `.vue` 就是 `Vue2.js` 的一个子组件，但是这个子组件在不同场景下的解释不同，如果只是普通的可以复用的子组件，那就叫“子组件”。但是如果这个子组件注意作为一个完整对应页面或者视图来完成视图切换/路由切换的工作，那就叫“视图”。如果这个组件是整个 `Vue2.js` 工程的主 `app` 引用，那就是“主视图”。

因此这里复用了 `src/components/` 下组件和一些其他设置的 `.vue` 文件，没一份对应一个完整页面，可以用来在 `vue` 应用中快速切换页面。这里我们先不管是如何“切换的视图/切换路由”的，先看看我们的初始化工程中每个页面都做了些什么工作。

```html
<!-- HomeView.vue -->
<template>
  <div class="home">
    <img alt="Vue logo" src="../assets/logo.png">
    <HelloWorld msg="Welcome to Your Vue.js App"/> <!-- 在这里使用子组件, 同时传入属性值(3.最后用子组件) -->
  </div>
</template>

<script>
import HelloWorld from '@/components/HelloWorld.vue' // 这里的 @ 通常代指 /src 目录, 这里成功导入了子组件(1.先导入子组件)

export default {
  name: 'HomeView',
  components: { // 这里注册了子组件, 和之前使用 Vue.component() 类似(2.再注册子组件)
    HelloWorld
  }
}
</script>

```

```html
<!-- AboutView.vue -->
<template>
  <div class="about">
    <h1>This is an about page</h1>
  </div>
</template>

<!-- 您可能注意到了这个视图没有设置组件名字, 其实这样也是可以的, 但是后面需要使用 import() 进行动态链接了 -->

```

而实际上切换视图/切换路由的工作也简单，实际上就是使用 `<router-link to="">, <router-view/>` 语法结合 `Vue.js` 的 `VueRouter` 路由实例中设置对应的视图，即可达到切换的目的（这个路由配置后面再来提及）。

### 3.2.4.src/router/index.js

这份 `js` 文件中就定义了“视图切换/路由切换”，最后再以默认导出的形式作为模块交给 `vue` 实例进行路由注入。

```js
<!-- HomeView.vue -->
<template>
  <div class="home">
    <img alt="Vue logo" src="../assets/logo.png">
    <HelloWorld msg="Welcome to Your Vue.js App"/> <!-- 在这里使用子组件, 同时传入属性值(3.最后用子组件) -->
  </div>
</template>

<script>
import HelloWorld from '@/components/HelloWorld.vue' // 这里的 @ 通常代指 /src 目录, 这里成功导入了子组件(1.先导入子组件)

export default {
  name: 'HomeView',
  components: { // 这里注册了子组件, 和之前使用 Vue.component() 类似(2.再注册子组件)
    HelloWorld
  }
}
</script>

```

### 3.2.5.src/App.vue

有了上述关于 `.vue` 文件的解说，这里的 `App.vue` 实际上也是一个 `Vue2.js` 的组件，只不过这个组件是主组件，这个组件内部还会渲染其他的主组件，您只需要在 `<template>` 中写出 `id=""` 挂载组件即可，其他部分也都差不多...

```html
<!-- App.vue -->
<template>
  <div id="app">
    <nav> <!-- 这个 nav 只是一个语义标签, 主要是用在页面中的导航链接部分, 它通常包含一组链接, 用户可以通过这些链接在网站或应用的不同部分之间进行导航, 主要是为了增加代码可读性和搜索引擎 SEO 友好的 -->
      <router-link to="/">Home</router-link> <!-- 显示 Home 视图链接 -->
      |
      <router-link to="/about">about</router-link> <!-- 显示 about 视图链接 -->
    </nav>
    <router-view/> <!-- 页面/视图的显示地点 -->
  </div>
</template>

<style>
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
}

nav {
  padding: 30px;
}

nav a {
  font-weight: bold;
  color: #2c3e50;
}

nav a.router-link-exact-active {
  color: #42b983;
}
</style>

```

### 3.2.6.src/main.js

这里就是创建“`vue` 实例/根实例”的地方了，加载了最为重要的 `App.vue` 主视图，该主视图内部又定义了路由切换时显示出不同的视图，视图内部又各自复用了子组件。并且还进行了路由注入，同时还挂载给了单体 `HTML` 页面的 `id="app"` 标签中。

```js
// main.js
import Vue from 'vue'
import App from './App.vue'
import router from './router'

Vue.config.productionTip = false

new Vue({
  router,
  render: h => h(App) // 创建一个 App 组件的虚拟节点, 并将其渲染为实际的 DOM 元素, h 实际上就是 createElement()
}).$mount('#app') // 这种挂载是手动挂载, 可以等待 vue 实例创建后再手动挂载, 从最终效果上和 el 差不多

```

### 3.2.7.package.json

这个和 `npm` 的有关，可以去了解一下这个配置文件，这里就不进行展开了，后续如果使用到就会稍微进行修改。

```json
// package.json
{
  "name": "my_code_2024_8_4",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "serve": "vue-cli-service serve",
    "build": "vue-cli-service build",
    "lint": "vue-cli-service lint"
  },
  "dependencies": {
    "core-js": "^3.8.3",
    "vue": "^2.6.14",
    "vue-router": "^3.5.1"
  },
  "devDependencies": {
    "@babel/core": "^7.12.16",
    "@babel/eslint-parser": "^7.12.16",
    "@vue/cli-plugin-babel": "~5.0.0",
    "@vue/cli-plugin-eslint": "~5.0.0",
    "@vue/cli-plugin-router": "~5.0.0",
    "@vue/cli-service": "~5.0.0",
    "eslint": "^7.32.0",
    "eslint-plugin-vue": "^8.0.3",
    "vue-template-compiler": "^2.6.14"
  },
  "eslintConfig": {
    "root": true,
    "env": {
      "node": true
    },
    "extends": [
      "plugin:vue/essential",
      "eslint:recommended"
    ],
    "parserOptions": {
      "parser": "@babel/eslint-parser"
    },
    "rules": {}
  },
  "browserslist": [
    "> 1%",
    "last 2 versions",
    "not dead"
  ]
}

```

### 3.2.8.vue.config.json

这个配置文件也是，后续需要的时候再来解释和修改...

```json
// vue.config.json
const { defineConfig } = require('@vue/cli-service')
module.exports = defineConfig({
  transpileDependencies: true
})

```

>   吐槽：到此即便您无法完全理解一些细小的语法细节，但是您已经可以照猫画虎，写出专属于您的单体页面了。



---

>   结语：...

**如果本系列文章对您有帮助，可以 [star 一下我的 limou-learn-note](https://github.com/xiaogithubooo/LimouLearnNote)，求求惹~**
