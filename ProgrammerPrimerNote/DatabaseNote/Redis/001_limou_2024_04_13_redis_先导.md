<style>
.heimu {
    position: relative;
    display: inline-block;
    color: transparent;
    text-decoration: none;
}
.heimu::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #333; /* 深色遮盖 */
    z-index: 1;
}
.heimu:hover::before {
    background-color: transparent; /* 鼠标悬浮时移除深色遮盖 */
}
.heimu:hover {
    color: white !important; /* 鼠标悬浮时显示白色文字 */
    text-shadow: none;
}
</style>
**如果本系列文章对您有帮助，可以 [star 一下我的 limou-learn-note](https://github.com/xiaogithubooo/LimouLearnNote)，求求惹(๑＞ ＜)☆♡~**

**叠甲：以下文章主要是依靠我的实际编码学习中总结出来的经验之谈，求逻辑自洽，不能百分百保证正确，有错误、未定义、不合适的内容请尽情指出！**

[TOC]

>   概要：...

>   资源：...

------

# 1.Redis 的概念

`Redis` 是一种开源的内存数据库，用于存储数据结构，例如字符串、哈希表、列表、集合、有序集合等。它被设计为快速、灵活，并支持多种数据结构的操作。`Redis` 通常用作缓存、消息代理、会话存储等用途。它支持多种编程语言，并有许多客户端库可供开发者使用。Redis 也有持久化选项，可以将数据保存到磁盘上，以便在重启时恢复数据。

## 1.1.Redis 的原理

`Redis` 所有数据都是存放在内存中的，把数据放在内存中是 `Redis` 速度快的最主要原因。另外 `Redis` 是⽤ `C` 语⾔实现的，⼀般来说 `C` 语⾔实现的最终程序会更快。另外 `Redis` 一开始采用的是单线程，预防了多线程可能产⽣的竞争问题。不够后面的 `Redis` 在 `6.0` 版本引⼊了多线程机制，但主要也是在处理⽹络和 `IO`，不涉及到数据命令，即命令的执行仍然采⽤了单线程模式。

从网络角度上，`Redis` 还使用了 `IO` 多路复用的方式，实际上就是 `ET` 模式的 `epoll`（`Redis` 的核心任务主要是操作内存的数据结构，不会吃很多的 `CPU` 资源）。

另外，`Redis` 的很多核心功能都是比较简单的逻辑，简单逻辑就代表简单执行，就会非常快速。

## 1.2.Redis 的特点

### 1.2.1.Redis 的优点

`Redis` 相对于传统的关系型数据库（如 `MySQL`）或自定义内存中的变量有一些优势，这些优势可能导致选择 `Redis`：

1. **性能快速**：这里的性能快速是和 `MySQL` 进行对比。

    (1)`Redis` 是一个基于内存的数据库，因此读写速度非常快，适合需要快速响应的应用场景，如缓存系统或计数器（因此常常是 `MySQL` 的一个替代方案，但是存储容量没有 `MySQL` 多，不过有一种方案就是两者同时结合使用，热点数据使用 `Redis`，其余数据使用 `MySQL`）。

2. **数据结构**：`Redis` 支持丰富的数据结构，如字符串、哈希表、列表、集合、有序集合、`GEO(地理信息定位)`...，这使得它可以更灵活地存储和操作数据，而不仅仅局限于关系型数据库的表结构（和 `MySQL` 关系数据库不同，`Redis` 是基于键值对来组织数据的，是一种典型的非关系型数据库）。

3. **可编程的**：可以使用命令行操作 `Redis`，也可以使用编程语言脚本的方式批量执行一些操作（主要使用 `Lua`，也是一种较火的语言）。

4. **可拓展性**：可以使用 `C/C++、Rust` 来为 `Redis` 功能做拓展（本质是安装动态链接库，类似 `.so/.dll` 等），例如支持更多数据结构和更多交互命令。

5. **持久化数据**：虽然 `Redis` 是基于内存的，但它提供了持久化选项，可以将数据定期写入磁盘，确保数据不会因为系统崩溃而丢失。并且也有两种持久化方案，`RDB` 和 `AOF`，前者是基于快照数据的持久化，后者是基于日志数据的持久化。

6. **水平拓展**：`Redis` 支持主从复制和集群模式，可以在多个主机部署多个节点。

7. **高可用性**：多个节点上可以复制数据（备份/冗余），提高系统的可用性和容错能力，从节点就相当于主节点的备份。

8. **原子操作**：`Redis` 支持原子操作，能够保证多个操作的原子性，避免了多线程或多进程并发操作数据时可能出现的竞态条件。

9. **客户端语言多**：客户端可以支持的语言非常多，包括但不限于 `Cpp, Java, Python, Node.js...`，使用起来非常简单。

10. **主从复制功能**：提供了复制功能，实现了多个相同数据的 `Redis` 副本。

11. **高可用**：提供了哨兵机制，保证 `Redis` 的故障发现和故障自动转移。

总的来说，`Redis` 适用于需要高性能、低延迟、丰富数据结构和高可用性的应用场景，如缓存、实时数据分析、会话存储等。虽然在某些情况下使用传统的关系型数据库或自定义内存变量也可以实现类似的功能，但 `Redis` 提供了更好的性能和更丰富的功能。

进程间通信，如果是单机，就需要通过管道或者共享内存等机制来传递数据。而如果涉及到多台主机，就会涉及到网络通信。而 `Redis` 就是基于网络把内存中数据交给别的进程甚至是其他主机中进程来使用，并且一般是基于分布式系统的。

`Redis` 经常会被作为：

-   存储数据的非关系实时数据库（具有更低的存储和更高的效率）

-   使用 `session` 配合 `cookie` 实现会话管理...

-   消息队列消息中间件（这里不是进程通信中的消息队列），是网络中的生产者消费者模型（知名的消息队列就有 `RabbitMQ、Kafka、RocketMQ` 等，不过 `Redis` 的不常使用，多是顺带方便才使用）

    >   补充：`Redis` 一开始是作为消息中间件（消息队列）的一个生产者-消费者模型解决方案，但是这种类似的解决方案已经有更优的方案了。

### 1.2.2.Redis 的缺点

数据量大的场景中无法使用，受限于内存空间存储空间不大等。

## 1.3.Redis 的版本

待补充...

# 2.Redis 的安装

⾸先使用 `yum install centos-release-scl-rh` 安装 `scl` 源（非常常见的源），再使用 `yum install rh-redis5-redis` 安装 `redis`，如果是其他 `Linux` 发行版本也是类似，例如 `Ubuntu` 下的 `sudo apt-get install redis-server`，最后统一使用

之后我们提及的 `Redis` 主要是 `Redis5` 或 `Redis6` 来介绍的。

>   补充：如果是 `Centos7` 则可能需要设置一些软链接，以下配置需要 `root` 用户进行配置。
>
>   针对可执行程序设置符号链接：
>
>   ```shell
>   # 针对可执行程序设置符号链接
>   cd /usr/bin
>   ln -s /opt/rh/rh-redis5/root/usr/bin/redis-server ./redis-server # 服务端
>   ln -s /opt/rh/rh-redis5/root/usr/bin/redis-sentinel ./redis-sentinel # 哨兵
>   ln -s /opt/rh/rh-redis5/root/usr/bin/redis-cli ./redis-cli # 客户端
>   ```
>
>   针对配置⽂件设置符号链接：
>
>   ```shell
>   # 针对配置⽂件设置符号链接
>   cd /etc/
>   ln -s /etc/opt/rh/rh-redis5/ ./redis
>   ```
>
>   然后修改 `redis.conf` 配置文件（没则配置，有则跳过），这里的配置虽然有一点不安全，但是方便我们做测试。
>
>   ```cmd
>   # 修改 redis.conf 配置文件
>   bind 0.0.0.0 # (1)修改绑定 ip
>   protected-mode no # (2)关闭保护模式
>   daemonize yes # (3)启动守护进程
>   dir /var/lib/redis # (4)设置持久化工作目录（注意先在外面创建工作目录 mkdir -p /var/lib/redis）
>   logfile /var/log/redis/redis-server.log # (5)设置日志目录（mkdir -p /var/log/redis/）
>   ```
>
>   然后使用 `redis-cli` 来运行 `redis-cli` 客户端，可以简单使用一些命令（如果您的机器在安装时就自动启动了，可能需要使用 `systemctl restart redis-server` 重新启动 `redis` 服务）。
>
>   ```cmd
>   # redis-cli 中执行命令
>   127.0.0.1:6379> ping
>   PONG
>   ```
>

>   如果是 `Ubuntu` 可能配置文件放在 `/etc/redis/` 这里，也是类似上面的配置。

------

>   结语：...

**如果本系列文章对您有帮助，可以 [star 一下我的 limou-learn-note](https://github.com/xiaogithubooo/LimouLearnNote)，求求惹(๑＞ ＜)☆♡~**
